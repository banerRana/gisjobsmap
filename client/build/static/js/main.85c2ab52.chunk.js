(this["webpackJsonpgisjobsmap-frontend"]=this["webpackJsonpgisjobsmap-frontend"]||[]).push([[0],{367:function(e,t,a){e.exports=a(697)},675:function(e,t,a){},677:function(e,t,a){},680:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},693:function(e,t,a){},694:function(e,t,a){},695:function(e,t,a){},696:function(e,t,a){},697:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a(41),i=a(104),c=a(140),s=a(341),u=a(145),m=(a(376),a(386),a(31)),p=a(319),d=a(342),g=a(248),E=a(343),h=a.n(E),f=(a(510),a(5)),y=a(45),b=a.n(y),v=a(84),O=a.n(v);function x(e){return b.a.get("/tags/all",{params:e})}function j(e){return b.a.get("/categories/all",{params:e})}var w=a(12),C=a(361),S="https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",I={ar:"Argentina",au:"Australia",at:"Austria",bh:"Bahrain",be:"Belgium",br:"Brazil",ca:"Canada",cl:"Chile",cn:"China",co:"Colombia",cr:"Costa Rica",cz:"Czech Republic",dk:"Denmark",ec:"Ecuador",eg:"Egypt",fi:"Finland",fr:"France",de:"Germany",gr:"Greece",hk:"Hong Kong",hu:"Hungary",in:"India",id:"Indonesia",ie:"Ireland",il:"Israel",it:"Italy",jp:"Japan",kr:"Republic of Korea",kw:"Kuwait",lu:"Luxembourg",my:"Malaysia",mx:"Mexico",ma:"Morocco",nl:"Netherlands",nz:"New Zealand",ng:"Nigeria",no:"Norway",om:"Oman",pk:"Pakistan",pa:"Panama",pe:"Peru",ph:"Philippines",pl:"Poland",pt:"Portugal",qa:"Qatar",ro:"Romania",ru:"Russia",sa:"Saudi Arabia",sg:"Singapore",za:"South Africa",es:"Spain",se:"Sweden",ch:"Switzerland",tw:"Taiwan",th:"Thailand",tr:"Turkey",ua:"Ukraine",ae:"United Arab Emirates",gb:"United Kingdom",us:"United States",uy:"Uruguay",ve:"Venezuela",vn:"Viet Nam"};function k(e){return e.data}var R=function(e){var t=Object(C.a)("".concat(e[0]," ").concat(e[1]));return t.includes("hour")||t.includes("minute")||t.includes("second")?"Today":t};var T,_={isFetching:!1,dataId:null,error:{status:!1,response:null},features:[],near:{properties:{}},country:{iso2:"",name:"",geom:{}}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"data/FETCH_DATA_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0,dataId:t.payload.dataId,searches:t.payload.searches,features:_.features,near:_.near,country:_.country,error:{status:!1,response:null}});case"data/RECEIVE_DATA":return e.dataId===t.payload.dataId?Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,features:t.payload.response.data,near:t.payload.response.near,country:t.payload.response.country}):e;case"data/RECEIVE_DATA_ERROR":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,error:t.payload.response});default:return e}},F=function(e){return function(t){var a,n=Math.random();t({type:"data/FETCH_DATA_REQUEST",payload:{searches:e,dataId:n}}),(a=e,b.a.get("/jobs/all",{params:a,paramsSerializer:function(e){return O.a.stringify(e,{arrayFormat:"repeat"})}})).then(k).then((function(e){t({type:"data/RECEIVE_DATA",payload:{response:e,dataId:n}})})).catch((function(e){t({type:"data/RECEIVE_DATA_ERROR",payload:e})}))}},A={isFetching:!1,dataId:null,slug:null,data:{geometry:{},properties:{}},error:{status:!1,response:null}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"detail/FETCH_DETAIL_REQUEST":return Object(f.a)(Object(f.a)({},A),{},{isFetching:!0,dataId:t.payload.dataId,slug:t.payload.slug,error:{status:!1,response:null}});case"detail/RECEIVE_DETAIL":return e.dataId===t.payload.dataId?Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,data:t.payload.data}):e;case"detail/RECEIVE_DETAIL_ERROR":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,error:{status:!0,response:t.payload}});case"detail/CLOSE_DETAIL":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,dataId:null,slug:null});default:return e}},M=function(e){return function(t){var a,n=Math.random();t({type:"detail/FETCH_DETAIL_REQUEST",payload:{dataId:n,slug:e}}),(a={slug:e},b.a.get("/jobs/detail",{params:a})).then(k).then((function(e){var a=e.data;t({type:"detail/RECEIVE_DETAIL",payload:{data:a,dataId:n}})})).catch((function(e){t({type:"detail/RECEIVE_DETAIL_ERROR",payload:e})}))}},L=function(){return function(e){e({type:"detail/CLOSE_DETAIL"})}},z={isFetching:!1,dataId:null,searchTerm:"",selected:{coords:[],id:0},results:[],status:"success",message:{}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"geocode/FETCH_GEOCODE_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0,dataId:t.payload.dataId,searchTerm:t.payload.searchTerm});case"geocode/RECEIVE_GEOCODE":return e.dataId===t.payload.dataId?Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,results:t.payload.response.data,status:t.payload.response.status}):e;case"geocode/RECEIVE_GEOCODE_ERROR":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,status:"fail",message:t.payload});case"geocode/SET_SELECTED_GEOCODE":return Object(f.a)(Object(f.a)({},e),{},{selected:{id:t.payload.id,coords:t.payload.coords}});default:return e}},V=function(e){return function(t){var a,n=Math.random();t({type:"geocode/FETCH_GEOCODE_REQUEST",payload:{searchTerm:e,dataId:n}}),(a=e,b.a.get("/geonames/geocode",{params:a})).then(k).then((function(e){t({type:"geocode/RECEIVE_GEOCODE",payload:{response:e,dataId:n}})})).catch((function(e){t({type:"geocode/RECEIVE_GEOCODE_ERROR",payload:e})}))}},N=function(e){var t=Math.random(),a=JSON.parse(e);return function(e){e({type:"geocode/SET_SELECTED_GEOCODE",payload:{coords:a,id:t}})}},W={geometry:{},title:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"highlightMarker/HIGHLIGHT_MARKER_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{geometry:t.payload.geometry,title:t.payload.title});case"highlightMarker/CLEAR_MARKER_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{geometry:{},title:""});default:return e}},H=function(e,t){return function(a){a(e?{type:"highlightMarker/HIGHLIGHT_MARKER_REQUEST",payload:{geometry:e,title:t}}:{type:"highlightMarker/CLEAR_MARKER_REQUEST"})}},J={isFetching:!1,status:"",data:[]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"tags/FETCH_TAGS_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0});case"tags/RECEIVE_TAGS":case"tags/RECEIVE_TAGS_ERROR":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,data:t.response.data,status:t.respsonse.status});default:return e}},B={isFetching:!1,status:"",data:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"categories/FETCH_CATEGORIES_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0});case"categories/RECEIVE_CATEGORIES":case"categories/RECEIVE_CATEGORIES_ERROR":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!1,data:t.response.data,status:t.respsonse.status});default:return e}},X={bounds:[[-74.8471,40.0991],[-73.504,41.3809]]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"mapbounds/SET_MAPBOUNDS_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{bounds:t.payload});case"mapbounds/RESET_MAPBOUNDS_REQUEST":return X;default:return e}},Y=(0,a(86).createBrowserHistory)(),Z={key:"root",storage:h.a,whitelist:["auth"]},$=Object(g.a)(Z,(T=Y,Object(m.c)({router:Object(c.b)(T),data:D,detail:P,geocode:U,highlightMarker:q,tags:G,categories:K,mapbounds:Q}))),ee=[d.a,Object(p.a)(Y)];var te=a(702),ae=a(7);var ne=a(699),re=a(700),le=a(718),oe=a(703),ie=a(96);function ce(){var e=Object(i.g)(),t=Object(i.f)(),a=Object(i.e)(),r=Object(i.h)();return Object(n.useMemo)((function(){return{push:a.push,replace:a.replace,pathname:t.pathname,query:Object(f.a)(Object(f.a)({},O.a.parse(t.search)),e),match:r,location:t,history:a}}),[e,r,t,a])}var se=a(712),ue=a(363),me=a(106),pe=a(701),de=["box","q","tags","date","categories","type","date","remote","country"],ge=function(e){var t=Object(f.a)({},e);return delete t.layer,delete t.slug,O.a.stringify(t,{arrayFormat:"none"})},Ee=function(e){var t=Object(f.a)({},e);return delete t.layer,delete t.slug,delete t.box,Object.keys(t).length},he=function(e){var t=e.box;return O.a.stringify({box:t})},fe={labelCol:8,wrapperCol:16},ye=se.a.create({name:"search_form"})((function(e){var t,a=e.isFetching,l=e.fetchData,o=e.form,i=ce(),c=(t=i.location.search,O.a.parse(t,{parseBooleans:!0,parseNumbers:!0})),s=o.getFieldDecorator,u=Object(n.useState)([]),m=Object(w.a)(u,2),p=(m[0],m[1]),d=Object(n.useState)([]),g=Object(w.a)(d,2),E=(g[0],g[1]),h=function(e){e&&e.preventDefault(),o.validateFields((function(e,t){var a;e||function(e){e.box=i.query.box;var t=ge(e);i.push({search:t}),l(e)}(((a=t).categories&&!a.categories.length&&delete a.categories,a.country&&"any"===a.country&&delete a.country,a.date&&"0"===a.date&&delete a.date,a.remote&&delete a.remote,""===a.q&&delete a.q,a.tags&&!a.tags.length&&delete a.tags,a))}))};return Object(n.useEffect)((function(){x().then(k).then((function(e){p(e.data)})).catch((function(e){console.log("get tags error: ",e),p([])})),j().then(k).then((function(e){E(e.data)})).catch((function(e){console.log("populate categories error: ",e),E([])}))}),[]),r.a.createElement("div",{style:{width:"275px",textAlign:"left"}},r.a.createElement(se.a,Object.assign({onSubmit:h},fe,{labelAlign:"left",size:"small"}),r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:24},r.a.createElement(se.a.Item,{style:{marginBottom:"10px"}},s("q",{initialValue:c.q?c.q:"",rules:[{required:!1}]})(r.a.createElement(ue.a,{placeholder:"search term",size:"large",disabled:a,suffix:r.a.createElement(ae.a,{type:"search"})}))))),r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:24},r.a.createElement(se.a.Item,{labelCol:{span:20},wrapperCol:{span:4},style:{marginBottom:"20px"},label:r.a.createElement("span",null,"List Only Mapped Jobs \xa0",r.a.createElement(me.a,{title:"This will not list Remote Jobs outside of the map window. Otherwise all Remote Jobs will display in the list."},r.a.createElement(ae.a,{type:"info-circle-o"})))},s("remote",{valuePropName:"checked",initialValue:!!c.remote&&c.remote,rules:[{required:!1}]})(r.a.createElement(pe.a,{onChange:function(){return h()}}))))),r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:8}),r.a.createElement(re.a,{span:16,style:{textAlign:"right"}},r.a.createElement(ie.a,{size:"default",onClick:function(){o.resetFields(),i.push({search:he(i.query)});var e=i.query.box;l({box:e})},disabled:a,style:{marginRight:"10px"}},"Reset"),r.a.createElement(ie.a,{size:"default",loading:a,type:"primary",htmlType:"submit"},"Apply")))))})),be=(a(675),function(e){var t=e.isFetching,a=e.data,n=e.fetchData,l=ce();return r.a.createElement(te.a,{className:"mobile-layout"},r.a.createElement("div",null,r.a.createElement(ne.a,{gutter:0,style:{padding:"15px 0"}},r.a.createElement(re.a,{style:{textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"small"}},"Displaying"),r.a.createElement("div",{style:{fontWeight:"600",fontSize:"2em",whiteSpace:"pre-wrap"}},t?" ":a.length),r.a.createElement("div",{style:{fontSize:"small"}},"jobs"))),r.a.createElement(ne.a,{style:{textAlign:"center"}},r.a.createElement(le.a,{count:Ee(l.query),style:{background:"#1890ff"}},r.a.createElement(oe.a,{placement:"right",content:r.a.createElement(ye,{isFetching:t,fetchData:function(e,t){return n(e,t)}}),trigger:"click"},r.a.createElement(ie.a,{loading:t,type:"ghost",icon:"search",shape:"circle"}))))))}),ve=a(352),Oe=a.n(ve),xe=a(713),je=a(356),we=a(711),Ce=(a(174),a(677),xe.a.Text),Se=function(e){var t=e.near.properties,a=t&&t.name?r.a.createElement("span",null,"Near ","".concat(t.name,", ").concat(t.admin1)):"",l=t&&t.iso2?r.a.createElement(me.a,{title:"".concat(t.timezone," timezone")}," ",r.a.createElement("span",{className:"near-flag flag-icon flag-icon-".concat(t.iso2.toLowerCase())})):"";return r.a.createElement(n.Fragment,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:24,style:{textAlign:"center",fontSize:".95em"}},r.a.createElement(Ce,{ellipsis:!0,style:{maxWidth:"250px"}},a),"\xa0\xa0",l)))},Ie=(a(680),xe.a.Text),ke=function(e){var t=e.item,a=t.properties,l=t.geometry,o=a.publishDate?R(a.publishDate):null;return r.a.createElement(n.Fragment,null,r.a.createElement(we.a.Item.Meta,{title:r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:14},r.a.createElement(Ie,{ellipsis:!0,style:{maxWidth:"200px"}},a.title)),r.a.createElement(re.a,{span:10,style:{fontSize:"12px",textAlign:"right",color:"today"===o.toLowerCase()?"#0066ff":"rgba(0, 0, 0, 0.45)"}},o)),description:r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:14},r.a.createElement(Ie,{ellipsis:!0,style:{maxWidth:"200px"}},a.company)),r.a.createElement(re.a,{span:10,style:{fontSize:"12px",textAlign:"right"}},r.a.createElement(Ie,{ellipsis:!0,style:{maxWidth:"130px"}},a.isRemote?r.a.createElement("span",null,r.a.createElement(me.a,{title:"Remote Job"},r.a.createElement(ae.a,{type:"home",style:{color:"#FC7307"}})," ","\xa0")):null,l.coordinates?r.a.createElement("span",null,r.a.createElement(ae.a,{type:"environment-o"})," \xa0",a.formattedLocation):null)))}))},Re=a(719),Te=xe.a.Text,_e=function(e){var t=e.cat;return r.a.createElement("div",{style:{margin:"5px 0"}},t.map((function(e){return r.a.createElement(Re.a,{key:e.id,color:"blue"},e.name)})))},De=function(e){var t=e.item,a=t.properties,l=t.geometry,o=a.categories,i=a.publishDate?R(a.publishDate):null;return r.a.createElement(n.Fragment,null,r.a.createElement(we.a.Item.Meta,{title:r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:14},r.a.createElement(Te,{ellipsis:!0,style:{maxWidth:"200px"}},a.title)),r.a.createElement(re.a,{span:10,style:{fontSize:"12px",textAlign:"right",color:"today"===i.toLowerCase()?"#0066ff":"rgba(0, 0, 0, 0.45)"}},i)),description:r.a.createElement(n.Fragment,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{span:14},r.a.createElement(Te,{ellipsis:!0,style:{maxWidth:"200px"}},a.company)),r.a.createElement(re.a,{span:10,style:{fontSize:"12px",textAlign:"right"}},r.a.createElement(Te,{ellipsis:!0,style:{maxWidth:"130px"}},a.isRemote?r.a.createElement("span",null,r.a.createElement(me.a,{title:"Remote Job"},r.a.createElement(ae.a,{type:"home"})," \xa0 Remote")):null,l&&l.coordinates?r.a.createElement("span",null,r.a.createElement(ae.a,{type:"environment-o"})," \xa0",a.formattedLocation):null))),r.a.createElement(ne.a,null,r.a.createElement(_e,{cat:o})),r.a.createElement(ne.a,null,r.a.createElement("div",{style:{textAlign:"center",fontSize:"x-small"}},"Sponsored Listing")))}))},Fe=Object(o.c)((function(e){return{detail:e.detail}}),(function(e){return Object(m.b)({fetchDetail:M},e)}))((function(e){var t=e.item,a=t.properties,n=t.geometry,l=a.publishDate?R(a.publishDate):null,o=a.title,i=a.dataSource;return l?r.a.createElement(we.a.Item,{className:"data-list-item",key:a.slug,onMouseEnter:function(){return e.handleMapHighlight(n,o)},onMouseLeave:function(){return e.handleMapHighlight()},onClick:function(){return t=a.slug,void e.fetchDetail(t);var t}},"gjm"===i?r.a.createElement(De,{item:t}):r.a.createElement(ke,{item:t})):r.a.createElement("div",null)})),Ae=xe.a.Text,Pe=function(e){var t=e.data,a=e.near,l=e.fetchData,o=e.isFetching,i=e.toggleHighlightMarker,c=e.handleClick,s=ce(),u=Object(n.useRef)(null),m=Object(n.useState)([]),p=Object(w.a)(m,2),d=p[0],g=p[1],E=Object(n.useState)(10),h=Object(w.a)(E,2),f=h[0],y=h[1];return Object(n.useEffect)((function(){o||(u&&u.current&&(u.current.scrollTop=0),y(10),g(t.slice(0,11)))}),[o]),r.a.createElement(te.a,{style:{height:"100%",minHeight:"100%"}},r.a.createElement(ne.a,{gutter:0,style:{padding:"8px 0",backgroundColor:"whitesmoke",boxShadow:"rgb(172, 172, 172) 0px 1px 4px 1px",zIndex:"1",minHeight:"75px"}},r.a.createElement(ne.a,{style:{padding:"5px"}},r.a.createElement(re.a,{span:19,style:{textAlign:"center"}},r.a.createElement(ne.a,{gutter:0},r.a.createElement(re.a,{span:24,style:{marginBottom:"5px"}},!o&&t&&100===t.length?r.a.createElement(me.a,{placement:"bottom",title:"Max 100 results. Narrow your search criteria or zoom in on the map."},r.a.createElement(ae.a,{type:"info-circle",style:{margin:"0 10px",fontSize:"18px",verticalAlign:"text-bottom"}})):null,!o&&r.a.createElement(Ae,{strong:!0},"Displaying Latest"," ",t&&t.length?t.length:0," ","Jobs")),r.a.createElement(re.a,{span:24,style:{marginTop:"5px"}},r.a.createElement(Se,{near:a})))),r.a.createElement(re.a,{span:5,style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(le.a,{count:Ee(s.query),style:{background:"#1890ff"}},r.a.createElement(oe.a,{placement:"right",content:r.a.createElement(ye,{isFetching:o,fetchData:function(e,t){return l(e,t)}}),trigger:"click"},r.a.createElement(ie.a,{loading:o,icon:"search",shape:"circle"})))))),r.a.createElement("div",{style:{overflowY:"scroll",height:"100%",background:"white"},ref:u},o&&r.a.createElement("div",{className:"list-loading-container"},r.a.createElement(je.a,null)),r.a.createElement(Oe.a,{initialLoad:!1,pageStart:0,loadMore:function(){d.length>=t.length||t.length&&(g(d.concat(t.slice(f+1,f+10))),y(f+10))},hasMore:d.length<t.length,useWindow:!1},r.a.createElement(we.a,{dataSource:d,locale:{emptyText:r.a.createElement("span",null,o?"Please wait...":"No results found here.")},renderItem:function(e){return r.a.createElement(Fe,{item:e,handleClick:c,handleMapHighlight:i})}}))))},Me=Object(n.createContext)();var Le=function(e){var t=e.children,a=Object(n.useState)(window.innerWidth>700),l=Object(w.a)(a,2),o=l[0],i=l[1],c=(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<500;return r.a.createElement(Me.Provider,{value:{isSidebarOpen:o,setSidebarOpen:i,isMobile:c}},t)},ze=(a(688),te.a.Sider),Ue=te.a.Content,Ve=te.a.Footer,Ne=Object(o.c)((function(e){return{data:e.data}}),(function(e){return Object(m.b)({toggleHighlightMarker:H,fetchData:F},e)}))((function(e){var t=e.children,a=e.fetchData,l=e.data,o=e.toggleHighlightMarker,i=function(){var e=function(){return{width:window.innerWidth,height:window.innerHeight}},t=Object(n.useState)(e),a=Object(w.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=function(){l(e())};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),r}(),c=Object(n.useContext)(Me),s=c.isSidebarOpen,u=c.setSidebarOpen,m=c.isMobile;return r.a.createElement(ze,{collapsible:!0,collapsed:!s,width:i<700?i.innerWidth:375,style:{position:i.innerWidth<700?"fixed":"relative",zIndex:"500",top:"49px",left:0,marginLeft:0,height:"calc(100vh - 49px",boxShadow:"2px 1px 5px 0 rgba(0,0,0,.4)",overflow:"hidden"},theme:"light",breakpoint:"lg",collapsedWidth:"80",trigger:null},r.a.createElement(te.a,{style:{height:"100%"}},r.a.createElement(Ue,{style:{background:"#fff",padding:0,margin:0,height:"100%"}},t,s?r.a.createElement(Pe,{data:l.features||[],near:l.near||{},fetchData:a,isFetching:l.isFetching,toggleHighlightMarker:o}):r.a.createElement(be,{fetchData:a,data:l.features,isFetching:l.isFetching})),r.a.createElement(Ve,{style:{padding:"10px",textAlign:"center",borderTop:"1px solid #acacac",cursor:"pointer",background:"whitesmoke"},onClick:function(){return u(!s)}},function(){var e=null,t="";return s?(e="left",t=m?" Show Map":" More Map"):e="right",r.a.createElement("span",null,r.a.createElement(ae.a,{type:e}),t)}())))})),We=a(714),qe=a(704),He=xe.a.Text,Je=function(e){var t=e.source,a=e.isRemote,n=R(e.publishDate).toLowerCase();if(e.title)return r.a.createElement(ne.a,{gutter:24},r.a.createElement(re.a,{span:24},r.a.createElement("h1",null,e.title)),r.a.createElement(re.a,{span:24,style:{marginBottom:"10px"}},r.a.createElement("h2",null,e.company)),r.a.createElement(re.a,{span:24,style:{marginBottom:"20px"}},r.a.createElement(He,{strong:!0},r.a.createElement(ae.a,{type:"environment-o"})," ",e.formattedLocation),a?r.a.createElement(He,{strong:!0},"\xa0/\xa0",r.a.createElement(ae.a,{type:"home"}),"\xa0Remote"):null,r.a.createElement(He,null,"\xa0-\xa0posted\xa0",n)),"gjm"===e.source&&e.categories.length&&r.a.createElement(re.a,{span:24,style:{marginBottom:"20px"}},"Categorized as \xa0",e.categories.map((function(e){return r.a.createElement(Re.a,{key:e.id,color:"volcano"},e.name)}))),r.a.createElement(re.a,{span:24},"Tagged with \xa0",e.tags.length?e.tags.map((function(e){return r.a.createElement(Re.a,{key:e.id,color:"geekblue"},e.name)})):r.a.createElement(He,{type:"secondary"},"No tags found")),e.url&&r.a.createElement(re.a,{span:24,style:{marginTop:"20px"}},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ie.a,{type:"link",size:"small"},r.a.createElement(ae.a,{type:"link-o"}),"indeed"===t?" View on Indeed":" More Information"))))},Ge=function(e){var t=e.slug,a=e.title,l=e.tags,o=Object(n.useState)("link-o"),i=Object(w.a)(o,2),c=i[0],s=i[1],u=window.location.origin,m="".concat(u,"/job/").concat(t),p=l.length?l.map((function(e){return e.name})).join(","):"",d="https://twitter.com/intent/tweet"+"?url=".concat(encodeURIComponent(m))+"&text=".concat(encodeURIComponent(a))+"&hashTags=".concat(encodeURIComponent(p)),g="https://www.facebook.com/sharer.php"+"?u=".concat(encodeURIComponent(m)),E="https://www.linkedin.com/shareArticle?mini=true"+"&url=".concat(encodeURIComponent(m))+"&title=".concat(encodeURIComponent(a))+"&summary=".concat(encodeURIComponent(p))+"&source=".concat(encodeURIComponent("The GIS Jobs Map"));return r.a.createElement("div",{style:{margin:"30px 0"}},"Share \xa0",r.a.createElement(Re.a,{color:"#55acee"},r.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae.a,{type:"twitter-o",color:"white"}))),r.a.createElement(Re.a,{color:"#3b5999"},r.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae.a,{type:"facebook-o",color:"white"})," ")),r.a.createElement(Re.a,{color:"#0077b5"},r.a.createElement("a",{href:E,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae.a,{type:"linkedin-o",color:"white"}))),r.a.createElement(Re.a,null,r.a.createElement("a",{href:"mailto:?subject=".concat(a,"%20Job&body=Check out this job from the GIS Jobs Map: \r \n ").concat(encodeURIComponent(m)),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae.a,{type:"mail-o",color:"white"}))),r.a.createElement(qe.a,{type:"vertical"}),r.a.createElement("span",{style:{marginLeft:"8px"}},r.a.createElement(ue.a,{size:"small",placeholder:"",value:m,style:{maxWidth:"300px",marginRight:"5px"},prefix:r.a.createElement(ae.a,{type:c,color:"check-o"===c?"green":"inherit"})}),r.a.createElement(ie.a,{size:"small",onClick:function(){return e=m,navigator.clipboard.writeText(e),s("check-o"),void setTimeout((function(){s("link-o")}),1e3);var e}},"Copy")))},Be=(a(689),xe.a.Paragraph),Ke=xe.a.Text,Xe=Object(o.c)((function(e){return{detail:e.detail}}),(function(e){return Object(m.b)({fetchDetail:M,closeDetail:L},e)}))((function(e){var t=e.detail,a=e.closeDetail,l=e.fetchDetail,o=ce(),i=o.match,c=t.isFetching,s=t.data,u=t.slug,m=s.properties,p=m.url,d=m.description,g=m.formattedLocation,E=m.dataSource,h=m.company,f=m.publishDate,y=m.tags,b=m.categories,v=m.title,O=m.isRemote;Object(n.useEffect)((function(){!u&&"job"===i.params.layer&&i.params.slug&&l(i.params.slug)}),[]),Object(n.useEffect)((function(){u&&o.push({pathname:"/job/".concat(u),search:o.location.search})}),[u]);return r.a.createElement(We.a,{title:null,visible:!!u,onCancel:function(){return o.push({pathname:"/",search:o.location.search}),void a()},bodyStyle:{paddingTop:"50px"},footer:null,style:{top:50},width:"calc(100% - 100px)"},c?r.a.createElement("div",{className:"loading-div"},r.a.createElement(ae.a,{type:"loading"})," Loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{title:v,company:h,publishDate:f,formattedLocation:g,source:E,url:p,tags:y,categories:b,isRemote:O}),r.a.createElement(qe.a,null),r.a.createElement(Ge,{slug:u,title:v,tags:y}),r.a.createElement(Be,{className:"job-description"},r.a.createElement("div",{style:{margin:"20px 0"}},r.a.createElement(Ke,{strong:!0},"Description")),d)))})),Qe=a(722),Ye=a(706),Ze=a(723),$e=a(707),et=a(708),tt=a(709),at=a(710),nt=a(18),rt=a.n(nt),lt=(a(336),a(690),a(705)),ot=a(721),it=a(358),ct=a(359),st=a(365),ut=a(362),mt=a(122),pt=a(35);a(691),a(692);var dt=function(e){Object(st.a)(a,e);var t=Object(ut.a)(a);function a(){return Object(it.a)(this,a),t.apply(this,arguments)}return Object(ct.a)(a,[{key:"createLeafletElement",value:function(e){var t=new rt.a.markerClusterGroup(e);return this.contextValue=Object(f.a)(Object(f.a)({},e.leaflet),{},{layerContainer:t}),t}}]),a}(mt.a),gt=Object(pt.b)(dt),Et=function(e){var t=e.mapFeatures,a=e.markerClick;return r.a.createElement(gt,{chunkedLoading:!0,chunkInterval:100},t&&t.map((function(e){return e.geometry&&!e.invalidGeom?r.a.createElement(lt.a,{onClick:function(e){return a(e)},key:e.properties.slug,title:e.properties.title,publishDate:e.properties.publishDate,company:e.properties.company,formattedLocation:e.properties.formattedLocation,slug:e.properties.slug,country:e.properties.country,position:[e.geometry.coordinates[1],e.geometry.coordinates[0]]},r.a.createElement(ot.a,{label:e.properties.title,direction:"top"},r.a.createElement("span",null,e.properties.title))):null})))};delete rt.a.Icon.Default.prototype._getIconUrl,rt.a.Icon.Default.mergeOptions({iconRetinaUrl:a(337),iconUrl:a(338),shadowUrl:a(339)});var ht=[[29.63,-116.88],[48.22,-76.87]],ft=Object(o.c)((function(e){return{data:e.data,highlightMarker:e.highlightMarker,detail:e.detail}}),(function(e){return Object(m.b)({fetchData:F,fetchDetail:M,toggleHighlightMarker:H},e)}))((function(e){var t=e.detail,a=e.data,l=e.fetchData,o=e.fetchDetail,i=e.highlightMarker,c=ce(),s=c.match,u=function(e){if(e){var t=e.split(",");if(4===t.length)return[[parseFloat(t[1]),parseFloat(t[0])],[parseFloat(t[3]),parseFloat(t[2])]]}}(c.query.box),m=u||ht,p=Object(n.useContext)(Me),d=p.isSidebarOpen,g=p.isMobile,E=Object(n.useState)(m),h=Object(w.a)(E,2),y=h[0],b=(h[1],Object(n.useState)([])),v=Object(w.a)(b,2),O=(v[0],v[1]),x=Object(n.useState)(!1),j=Object(w.a)(x,2),C=j[0],I=j[1],k=Object(n.useRef)(null),R=Object(n.useRef)(null),T=a.features,_=function(e){var t=e.target.options.slug;o(t)};Object(n.useEffect)((function(){k&&k.current&&setTimeout((function(){k.current.leafletElement.invalidateSize()}),200)}),[d]),Object(n.useEffect)((function(){k.current&&(i.geometry.coordinates?rt.a.popup({closeButton:!1,autoPan:!1,offset:[0,-15]}).setLatLng([i.geometry.coordinates[1],i.geometry.coordinates[0]]).setContent(i.title).openOn(k.current.leafletElement):k.current.leafletElement.closePopup())}),[i]);var D=Object(n.useMemo)((function(){return r.a.createElement(Et,{markerClick:_,mapFeatures:T})}),[T]);Object(n.useEffect)((function(){"job"===s.params.layer&&s.params.slug?I(!0):k&&k.current&&k.current.leafletElement.fitBounds(y)}),[]),Object(n.useEffect)((function(){if(!t.isFetching&&t.data.geometry.coordinates&&C){I(!1);var e=t.data.geometry.coordinates;k.current.leafletElement.setView([e[1],e[0]],10)}}),[t.isFetching]);var F={position:g?"fixed":"relative",width:g?"calc(100vw - 80px)":"100%",left:g?"80px":"0",height:"calc(100vh - 50px)",marginTop:"50px",zIndex:"1"};return r.a.createElement("div",{style:F},r.a.createElement(Qe.a,{className:"leaflet-map",zoomControl:!1,onMoveEnd:function(e){var t=e.target;if(console.log("map",t),t){O(!1);var a=t.getBounds(),n=a.getSouthWest().wrap(),r=a.getNorthEast().wrap(),o=("".concat(n.lng,",").concat(n.lat,",").concat(r.lng,",").concat(r.lat),function(e){if(e){var t=e.split(",");return[parseFloat(t[0]).toFixed(2),parseFloat(t[1]).toFixed(2),parseFloat(t[2]).toFixed(2),parseFloat(t[3]).toFixed(2)].join(",")}return""}(a.toBBoxString())),i=c.query,s=Object(f.a)(Object(f.a)({},function(e){var t=Object(f.a)({},e);return Object.keys(t).forEach((function(e){de.includes(e.toLowerCase())||delete t[e]})),t}(i)),{box:o}),u=ge(s);c.push({search:u}),l(s)}},maxZoom:12,zoom:1,center:{lat:51,lng:0},attributionControl:!1,boundsOptions:{padding:[50,50]},ref:k,worldCopyJump:!0},r.a.createElement(Ye.a,{position:"bottomright",prefix:"Built by <a href='http://ian.shi.land' target='_blank'>http://ian.shi.land</a>"}),r.a.createElement(Ze.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:S}),r.a.createElement($e.a,{position:"bottomright"}),r.a.createElement(et.a,{ref:R},D),a.country&&a.country.geom.coordinates&&a.country.geom.coordinates.length?r.a.createElement(tt.a,{data:{type:"Feature",properties:{},geometry:a.country.geom},className:"country-layer",style:function(){return{stroke:!1,weight:1,fillOpacity:.1}}}):null,i.geometry.coordinates?r.a.createElement(at.a,{key:"highlight-layer-".concat(i.title),center:[i.geometry.coordinates[1],i.geometry.coordinates[0]],stroke:!0,strokeColor:"#00FFFF",strokeOpacity:.7,radius:20}):null))})),yt=a(716),bt=function(e){var t=e.visible,a=e.onClose;return r.a.createElement(We.a,{title:"Welcome to the GIS Jobs Map",visible:t,onClose:a,onCancel:a,footer:r.a.createElement(ie.a,{key:"close",onClick:a},"OK")},r.a.createElement("h3",null,"About"),r.a.createElement("p",null,"The GIS Jobs Map catalogues the latest GIS, Remote Sensing, Cartographic and Geospatial related jobs in several countries around the world. GIS job data is regularly updated from"," ",r.a.createElement("a",{href:"https://www.indeed.com"},"Indeed.com"),"."),r.a.createElement("h3",null,"Contact"),r.a.createElement("p",null,"Have a question, comment or suggestion? Find a bug or data issue? It would be great to hear about it, feel free to contact"," ",r.a.createElement("a",{href:"mailto:admin@gisjobsmap.com>"},"admin@gisjobsmap.com")," ","with details. You can also follow on Twitter"," ",r.a.createElement("a",{href:"https://twitter.com/GISJobsMap"},"@GISJobsMap"),"."),r.a.createElement("h3",null,"Like what you see?"),r.a.createElement("p",null,"Keep this site going! All donations go towards hosting and improving this site. Even the smallest amount is greatly appreciated.",r.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},r.a.createElement("form",{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank"},r.a.createElement("input",{type:"hidden",name:"cmd",value:"_s-xclick"}),r.a.createElement("input",{type:"hidden",name:"hosted_button_id",value:"MAZV5KVWM7M6J"}),r.a.createElement("input",{type:"image",src:"https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Donate with PayPal button"}),r.a.createElement("img",{alt:"",border:"0",src:"https://www.paypal.com/en_US/i/scr/pixel.gif",width:"1",height:"1"})))))},vt=function(e){var t=e.visible,a=e.onClose;return r.a.createElement(We.a,{title:"Privacy Policy",visible:t,onClose:a,onCancel:a,footer:r.a.createElement(ie.a,{key:"close",onClick:a},"OK")},r.a.createElement("h3",null,"Privacy Policy"),r.a.createElement("p",null,"We (The GIS Jobs Map) respect your privacy regarding any information thats collected from you across our website,"," ",r.a.createElement("a",{href:"https://gisjobsmap.com"},"https://gisjobsmap.com"),"."),r.a.createElement("p",null,"We only ask for personal information when we truly need it to provide a service to you. We collect it by fair and lawful means, with your knowledge and consent. We also let you know why we\u2019re collecting it and how it will be used."),r.a.createElement("p",null,"We don\u2019t share any personally identifying information publicly or with third-parties, except when required to by law."),r.a.createElement("p",null,"Our website may link to external sites that are not operated by us. Please be aware that we have no control over the content and practices of these sites, and cannot accept responsibility or liability for their respective privacy policies."),r.a.createElement("p",null,"You are free to refuse our request for your personal information, with the understanding that we may be unable to provide you with some of your desired services."),r.a.createElement("p",null,"Your continued use of our website will be regarded as acceptance of our practices around privacy and personal information. If you have any questions about how we handle user data and personal information, feel free to contact us."),r.a.createElement("p",null,"This policy is effective as of June 1 2020."))},Ot=(a(693),Object(o.c)((function(e){return{highlightLayer:e.highlightLayer,data:e.data}}),(function(e){return Object(m.b)({fetchGeocodeResults:V,setGeocodeResults:N,fetchData:F},e)}))((function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),i=Object(w.a)(o,2),c=i[0],s=i[1],u=Object(n.useMemo)((function(){return r.a.createElement(bt,{visible:a,onClose:function(){return l(!1)}})}),[a]),m=Object(n.useMemo)((function(){return r.a.createElement(vt,{visible:c,onClose:function(){return s(!1)}})}),[c]);return r.a.createElement(te.a.Header,{className:"header",style:{background:"white",padding:"0",position:"fixed",zIndex:600,width:"100%",height:"51px"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(yt.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px",height:"50px",width:"65px",float:"right"},onClick:function(e){return function(e){var t=e.key;t&&("About"===t?l(!0):"Privacy"===t?s(!0):t.indexOf("twitter")>-1&&window.open("https://twitter.com/gisjobsmap"))}(e)},selectedKeys:[],key:"nav"},u,m,r.a.createElement(yt.a.SubMenu,{key:"submenu",expandIcon:r.a.createElement(ae.a,{type:"menu"}),style:{lineHeight:"54px",float:"right",height:"49px",paddingLeft:"0px"},title:r.a.createElement("span",null,r.a.createElement(ae.a,{type:"menu",style:{marginRight:"5px"}}))},r.a.createElement(yt.a.Item,{key:"twitter",className:"navMenuItem",style:{padding:"0 10px !important"}},r.a.createElement("span",null,r.a.createElement(ae.a,{type:"twitter-o",color:"blue"}),"Follow Us")),r.a.createElement(yt.a.Item,{key:"About",className:"navMenuItem",style:{padding:"0 10px !important"}},r.a.createElement("span",null,r.a.createElement(ae.a,{type:"question-circle"}),"About")),r.a.createElement(yt.a.Item,{key:"Privacy",className:"navMenuItem",style:{padding:"0 10px !important"}},r.a.createElement("span",null,r.a.createElement(ae.a,{type:"exclamation-circle"}),"Privacy Policy")))))}))),xt=a(717),jt=Object(n.createContext)();var wt=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(w.a)(a,2),o=l[0],i=l[1];return r.a.createElement(jt.Provider,{value:{isJobPostOpen:o,setJobPostOpen:i}},t)},Ct=xe.a.Title,St=xe.a.Text,It=xe.a.Paragraph,kt={fontSize:"16px",color:"#38b338",marginRight:"10px"},Rt=function(){return r.a.createElement("div",{style:{margin:"20px 0",padding:"20px 0"}},r.a.createElement(ne.a,null,r.a.createElement(ne.a,{gutter:24},r.a.createElement(re.a,{span:12},r.a.createElement("div",{style:{marginTop:"2.5em"}},r.a.createElement(Ct,{level:3},"Post a Job for $1/day"),r.a.createElement(It,{style:{marginTop:".4em"}},r.a.createElement(St,{strong:!0},"30 day minimum")))),r.a.createElement(re.a,{span:12,style:{textAlign:"left"}},r.a.createElement(It,null,r.a.createElement(ae.a,{type:"check",style:kt}),r.a.createElement(St,{strong:!0},"High Visibility")),r.a.createElement(It,null,r.a.createElement(ae.a,{type:"check",style:kt}),r.a.createElement(St,{strong:!0},"Shareable URL")),r.a.createElement(It,null,r.a.createElement(ae.a,{type:"check",style:kt}),r.a.createElement(St,{strong:!0},"Secure Payment Processing")),r.a.createElement(It,null,r.a.createElement(ae.a,{type:"check",style:kt}),r.a.createElement(St,{strong:!0},"Responsive Customer Support")))),r.a.createElement(ne.a,null,r.a.createElement(It,{style:{marginTop:"20px",marginBottom:"0"}},"Please",r.a.createElement("a",{href:"mailto:admin@gisjobsmap.com?subject=Job Post Inquiry"}," ","contact us"," "),"with any inquiries regarding job postings."))))},Tt=a(95),_t=Tt.a.Option,Dt={labelCol:{xs:{span:24},sm:{span:8},md:{span:4},lg:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:20},lg:{span:20}}},Ft=function(e){var t=e.values,a=Object(n.useState)([]),l=Object(w.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)([]),s=Object(w.a)(c,2),u=s[0],m=s[1],p=e.form.getFieldDecorator;return Object(n.useEffect)((function(){x().then(k).then((function(e){i(e.data)})).catch((function(e){console.log("get tags error: ",e),i([])})),j().then(k).then((function(e){m(e.data)})).catch((function(e){console.log("populate categories error: ",e),m([])}))}),[]),r.a.createElement("div",{style:{margin:"20px",padding:"20px",textAlign:"left"}},r.a.createElement(se.a,Object.assign({},Dt,{labelAlign:"left",colon:!0}),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Job Title")},p("title",{initialValue:t.title,rules:[{required:!0,message:"Please enter a Job Title.",whitespace:!0}]})(r.a.createElement(ue.a,{placeholder:"GIS Developer",style:{maxWidth:"400px"}}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Organization")},p("organization",{initialValue:t.organization,rules:[{required:!0,message:"Please enter the Organization name.",whitespace:!0}]})(r.a.createElement(ue.a,{placeholder:"My Organization",style:{maxWidth:"400px"}}))),r.a.createElement(se.a.Item,{help:"2 categories max",label:r.a.createElement("span",null,"Categories\xa0",r.a.createElement(me.a,{title:"A Category makes the listing stand out. Pick a category or 2 that is relvant to the positon."},r.a.createElement(ae.a,{type:"question-circle-o"})))},p("categories",{initialValue:t.categories,rules:[{max:2,type:"array",required:!0,message:"Please select at least one category."}]})(r.a.createElement(Tt.a,{placeholder:"Choose relevant categories",mode:"multiple",style:{maxWidth:"500px"}},u.length?u.map((function(e){return r.a.createElement(_t,{key:e.id,value:e.name},e.name)})):null))),r.a.createElement(se.a.Item,{help:"7 tags max",label:r.a.createElement("span",null,"Tags\xa0",r.a.createElement(me.a,{title:"Tags are extra descriptors of the job posting. Select tags that are relevant to the listing."},r.a.createElement(ae.a,{type:"question-circle-o"})))},p("tags",{initialValue:t.tags,rules:[{required:!0,max:7,type:"array",message:"Please select at least one tag."}]})(r.a.createElement(Tt.a,{mode:"multiple",placeholder:"Choose relevant tags",style:{maxWidth:"500px"}},o.length?o.map((function(e){return r.a.createElement(_t,{key:e.id,value:e.name},e.name)})):null))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"External Link")},p("url",{initialValue:t.url,rules:[{whitespace:!0,type:"url"}]})(r.a.createElement(ue.a,{placeholder:"http://my-organization/gis-manager-application"}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Compensation")},p("compensation",{initialValue:t.compensation,rules:[{required:!1,whitespace:!0,max:150}]})(r.a.createElement(ue.a,{style:{maxWidth:"400px"},placeholder:"$85,000 USD"}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Description")},p("description",{initialValue:t.description,rules:[{required:!0,message:"Please enter a description of at least 150 characters.",whitespace:!0,min:150}]})(r.a.createElement(ue.a.TextArea,{placeholder:"Enter a description. Be sure to include all relevant information including any necessary contact info.",rows:10})))))},At=a(720),Pt=a(715);delete rt.a.Icon.Default.prototype._getIconUrl,rt.a.Icon.Default.mergeOptions({iconRetinaUrl:a(337),iconUrl:a(338),shadowUrl:a(339)});var Mt={layout:"vertical"},Lt=function(e){var t=e.values,a=e.form,l=Object(n.useRef)(null),o=Object(n.useState)([]),i=Object(w.a)(o,2),c=i[0],s=i[1],u=e.form.getFieldDecorator,m=function(e,t){l.current&&(e&&t?l.current.leafletElement.setView([e,t],9):l.current.leafletElement.closePopup())};Object(n.useEffect)((function(){m(t.lat,t.lon)}),[]);return r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement(ne.a,{gutter:24,type:"flex"},r.a.createElement(re.a,{span:12,style:{textAlign:"left"}},r.a.createElement(se.a,Object.assign({},Mt,{labelAlign:"left",colon:!0}),r.a.createElement(se.a.Item,{label:"Country",hasFeedback:!0},u("countryCode",{initialValue:t.countryCode,rules:[{required:!0,message:"Please select a country",min:2}]})(r.a.createElement(Tt.a,{showSearch:!0,onChange:function(e){t.countryCode=e,a.setFieldsValue({formattedLocation:void 0,city:void 0,state:void 0,lat:void 0,lon:void 0})},style:{maxWidth:"200px"}},Object.keys(I).map((function(e){return r.a.createElement(Tt.a.Option,{key:e,value:e},r.a.createElement("span",{className:"flag-icon flag-icon-".concat(e)})," ",I[e])}))))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"100% Remote\xa0",r.a.createElement(me.a,{title:"If 'Yes' is selected, the position will be displayed on the list for all areas of the selected country."},r.a.createElement(ae.a,{type:"question-circle-o"})))},u("remote",{initialValue:t.remote?t.remote:0})(r.a.createElement(Pt.a.Group,{onChange:function(e){var a=e.target.value;console.log("value",a),t.remote=a}},r.a.createElement(Pt.a.Button,{value:0},"No"),r.a.createElement(Pt.a.Button,{value:1},"Yes")))),1!==t.remote?r.a.createElement(se.a.Item,{label:"City",help:t.countryCode?"yes"===t.remote?"City not required with 100% remote jobs":"":"Please select a country first"},u("formattedLocation",{initialValue:t.formattedLocation,rules:[{required:1!==t.remote,message:"Please enter a valid city"}]})(r.a.createElement(At.a,{allowClear:!0,disabled:!t.countryCode,placeholder:"Type a City...",filterOption:!1,optionLabelProp:"text",dataSource:c.map((function(e){return function(e){var t=e.properties,a=t.id,n=t.admin1,l=t.name,o="".concat(l,", ").concat(n);return r.a.createElement(At.a.Option,{key:a,value:JSON.stringify(e)},o)}(e)})),onSelect:function(e){var n=JSON.parse(e),r=n.properties,l=n.geometry.coordinates,o=l[1],i=l[0];t.lat=o,t.lon=i,t.city=r.name,t.state=r.admin1,t.formattedLocation="".concat(r.name,", ").concat(r.admin1),m(o,i),a.setFieldsValue({formattedLocation:"".concat(r.name,", ").concat(r.admin1),city:r.name,state:r.admin1,lat:o,lon:i})},onChange:function(e){var a;t.formattedLocation=e,e?(a={text:e,iso2:t.countryCode},b.a.get("/geonames/geocode",{params:a})).then(k).then((function(e){s(e.data)})).catch((function(e){console.error("get geocode error: ",e),s([])})):(t.lat=0,t.lon=0)}}))):null,r.a.createElement(se.a.Item,{style:{display:"none"}},u("lat",{initialValue:t.lat})(r.a.createElement("div",null))),r.a.createElement(se.a.Item,{style:{display:"none"}},u("lon",{initialValue:t.lon})(r.a.createElement("div",null))),r.a.createElement(se.a.Item,{style:{display:"none"}},u("city",{initialValue:t.city})(r.a.createElement("div",null))),r.a.createElement(se.a.Item,{style:{display:"none"}},u("state",{initialValue:t.state})(r.a.createElement("div",null))))),r.a.createElement(re.a,{span:12},r.a.createElement("div",{style:{position:"absolute",background:"rgba(255, 255, 255, 0.3)",height:"100%",width:"100%",paddingTop:"33%",zIndex:2}}),r.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",zIndex:"1"}},r.a.createElement(Qe.a,{className:"leaflet-map",zoomControl:!1,maxZoom:12,zoom:1,center:{lat:50,lng:0},ref:l},r.a.createElement(Ze.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:S}),t.lat&&t.lon?r.a.createElement(lt.a,{key:"highlight-layer-title",position:[t.lat,t.lon],stroke:!0,strokeColor:"#00FFFF",strokeOpacity:.7,radius:20}):null)))))},zt=Tt.a.Option,Ut=function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),c=Object(w.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(""),p=Object(w.a)(m,2),d=p[0],g=p[1],E=e.values,h=e.form,y=h.getFieldDecorator,v={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement(ne.a,{gutter:24,type:"flex"},r.a.createElement(re.a,{span:24,style:{textAlign:"left"}},r.a.createElement(se.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{labelAlign:"left",onSubmit:function(e){e.preventDefault(),h.validateFieldsAndScroll((function(e,t){if(e)console.log("error",e);else{console.log("values",t),o(!0),console.log("key",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STRIPE_PUBLISH_KEY),window.Stripe.setPublishableKey(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STRIPE_PUBLISH_KEY);var a={number:t.card,cvc:t.cvc,exp_month:t.expDate.slice(0,2),exp_year:t.expDate.slice(2,4)};console.log(a),window.Stripe.createToken(a,(function(e,a){if(a.error){o(!1),console.error(a);var n=a.error.message;console.log(n),g(r.a.createElement("span",null,r.a.createElement("strong",null,"Payment Error: "),n))}else{var l=Object(f.a)({stripeToken:a.id},t);(i=l,b.a.post("/jobs/add-no-auth",i)).then(k).then((function(e){var t=e.message;e.id;e.success&&u(r.a.createElement("span",null,"Success. Your job posting is now visible at `https://www.gisjobsmap.com/job/",t.id,"-",t.slug,"`.")),g("")})).catch((function(e){o(!1),e.response?g(r.a.createElement("span",null,r.a.createElement("strong",null,"Server Error: "),"code"," ",e.response.status,". Please try again.")):g(r.a.createElement("span",null,r.a.createElement("strong",null,"Server Error.")," Please try again."))}))}var i}))}}))}}),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Job Post Duration")},y("activeDays",{initialValue:E.activeDays,rules:[{required:!0,message:"Please select a job post duration."}]})(r.a.createElement(Tt.a,{placeholder:"Select duration",onChange:function(e){E.activeDays=e},style:{maxWidth:"200px"}},[30,60,90,120].map((function(e){return r.a.createElement(zt,{key:e,value:e},e," days")}))))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Billing Email")},y("email",{initialValue:E.email,rules:[{required:!0,message:"Please enter a valid email.",type:"email"}]})(r.a.createElement(ue.a,{placeholder:"jane.doe@gmail.com",style:{maxWidth:"300px"}}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Card Number")},y("card",{rules:[{required:!0,message:"Please enter a valid credit card number.",min:16}]})(r.a.createElement(ue.a,{placeholder:"XXXXXXXXXXXXXXXX",style:{maxWidth:"300px"}}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"CVC")},y("cvc",{rules:[{required:!0,len:3,message:"Please enter a valid 3 digit code."}]})(r.a.createElement(ue.a,{placeholder:"CVC",style:{maxWidth:"50px"}}))),r.a.createElement(se.a.Item,{label:r.a.createElement("span",null,"Exp. Date")},y("expDate",{initialValue:E.expDate,rules:[{required:!0,len:4,type:"string",message:"Please enter a valid expiration date."}]})(r.a.createElement(ue.a,{placeholder:"MMYY",style:{maxWidth:"90px"},onChange:function(e){e.preventDefault();var t=e.target.value,a=t.slice(0,2)+"-"+t.slice(2,4);console.log(a),h.setFieldsValue({expDate:a})},allowClear:!0}))),r.a.createElement(se.a.Item,v,r.a.createElement("div",{style:{lineHeight:"23px",marginBottom:"10px"}},"You will be charged a one-time"," ",r.a.createElement("strong",null,E.activeDays&&"$".concat(E.activeDays," USD"))," ","fee for this job posting. The charge will be billed from"," ",r.a.createElement("a",{href:"http://www.cartoconcepts.com",target:"_blank",rel:"noopener noreferrer"},"Carto Concepts, LLC"),". You will be emailed a reciept upon successfull payment processing."),r.a.createElement(ie.a,{type:"primary",htmlType:"submit",disabled:l},"Submit Job and Pay"))),r.a.createElement("div",null,d?r.a.createElement("div",{style:{color:"red"}},d):null,s?r.a.createElement("div",{style:{color:"green"}},s):null))))},Vt=(a(694),Object(o.c)((function(e){return{detail:e.detail}}),(function(e){return Object(m.b)({fetchDetail:M},e)}))((function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useState)({}),o=Object(w.a)(l,2),i=o[0],c=o[1],s=Object(n.useState)({}),u=Object(w.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)({}),g=Object(w.a)(d,2),E=g[0],h=g[1],y=se.a.create({name:"detail"})(Ft),b=se.a.create({name:"location"})(Lt),v=se.a.create({name:"payment"})(Ut),O=Object(n.useContext)(jt),x=O.isJobPostOpen,j=O.setJobPostOpen,C=Object(n.useState)(0),S=Object(w.a)(C,2),I=S[0],k=S[1],R=xt.a.Step,T=[{title:"Info",content:r.a.createElement(Rt,null)},{title:"Job Details",content:r.a.createElement(y,{ref:e,values:i})},{title:"Job Location",content:r.a.createElement(b,{ref:t,values:m})},{title:"Payment",content:r.a.createElement(v,{ref:a,values:Object(f.a)(Object(f.a)(Object(f.a)({},i),m),E)})}];return r.a.createElement(We.a,{visible:x,title:"Post a Job",onCancel:function(){return j(!1)},footer:null,style:{top:50,maxWidth:"900px"},width:"calc(100% - 100px)"},r.a.createElement("div",null,r.a.createElement(xt.a,{current:I,className:"steps-post-modal"},T.map((function(e){return r.a.createElement(R,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:"steps-content"},T[I].content),r.a.createElement("div",{className:"steps-action"},I<T.length-1&&r.a.createElement(ie.a,{type:"primary",onClick:function(){1===I?e.current.validateFieldsAndScroll((function(e,t){k(I+1),c(t)})):2===I?t.current.validateFieldsAndScroll((function(e,t){k(I+1),p(t)})):3===I?a.current.validateFieldsAndScroll((function(e,t){k(I+1),h(t)})):k(I+1)}},"Next"),I>0&&r.a.createElement(ie.a,{style:{marginLeft:8},onClick:function(){1===I?e.current.validateFieldsAndScroll((function(e,t){k(I-1),c(t)})):2===I?t.current.validateFieldsAndScroll((function(e,t){k(I-1),p(t)})):3===I?a.current.validateFieldsAndScroll((function(e,t){k(I-1),h(t)})):k(I-1)}},"Previous"))))}))),Nt=Object(n.createContext)();var Wt=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(w.a)(a,2),o=l[0],i=l[1];return r.a.createElement(Nt.Provider,{value:{isJobDetailOpen:o,setJobDetailOpen:i}},t)},qt=(a(695),function(){return r.a.createElement(te.a,{className:"App"},r.a.createElement(wt,null,r.a.createElement(Ot,null),r.a.createElement(te.a,{style:{height:"100%"}},r.a.createElement(Wt,null,r.a.createElement(Le,null,r.a.createElement(Ne,null),r.a.createElement(ft,null)),r.a.createElement(Vt,null)),r.a.createElement(Xe,null))))}),Ht=(a(696),function(e){var t=Object(m.e)($,e,Object(m.d)(m.a.apply(void 0,[Object(p.a)(Y)].concat(ee))));return{persistor:Object(g.b)(t),store:t}}()),Jt=Ht.persistor,Gt=Ht.store,Bt=document.querySelector("#root");u.a.initialize("UA-71564480-1"),u.a.pageview(window.location.pathname+window.location.search),Y.listen((function(e,t){u.a.set({page:e.pathname,action:t}),u.a.pageview(e.pathname)})),Object(l.render)(r.a.createElement(o.a,{store:Gt},r.a.createElement(s.a,{loading:null,persistor:Jt},r.a.createElement(c.a,{history:Y},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:":layer?/:slug?",component:qt}))))),Bt)}},[[367,1,2]]]);
//# sourceMappingURL=main.85c2ab52.chunk.js.map